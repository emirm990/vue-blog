(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"3bea":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[e.logged?r("Editor"):r("Login",{on:{"logged-in":function(t){e.logged=!0},error:e.handleError}}),""!=e.error?r("p",[e._v(e._s(e.error))]):e._e()],1)},a=[],s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"containter"},[r("div",[r("form",{staticClass:"about"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],attrs:{type:"text",placeholder:"Blog title",required:""},domProps:{value:e.title},on:{input:function(t){t.target.composing||(e.title=t.target.value)}}}),r("wysiwyg",{model:{value:e.myHTML,callback:function(t){e.myHTML=t},expression:"myHTML"}}),r("input",{attrs:{type:"submit",value:"Submit"},on:{click:function(t){return t.preventDefault(),e.createBlog(t)}}}),r("button",{on:{click:function(t){return t.preventDefault(),e.updateBlog(t)}}},[e._v("Update")])],1),r("div",[r("p",[e._v(e._s(e.status))])]),e._l(e.blogs,(function(t){return r("div",{key:t._id,staticClass:"blog"},[r("div",{staticClass:"blog-header"},[r("h2",{staticClass:"blog-title"},[e._v(e._s(t.title))]),r("p",{staticClass:"blog-date"},[e._v(e._s(t.createdAt.getDate()+"/"+t.createdAt.getMonth()+"/"+t.createdAt.getFullYear()))]),r("button",{on:{click:function(r){return e.deleteBlog(t._id)}}},[e._v("Delete blog")]),r("button",{on:{click:function(r){return e.editBlog(t._id)}}},[e._v("Edit blog")])])])}))],2)])},o=[],i=(r("96cf"),r("89ba")),u=(r("a4d3"),r("4de4"),r("4160"),r("d81d"),r("0d03"),r("e439"),r("dbb4"),r("b64b"),r("d3b7"),r("159b"),r("2fa7")),c=r("9f12"),l=r("53fe"),p=r("7338"),d=r.n(p);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(r,!0).forEach((function(t){Object(u["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m="api/blogs",h=function(){function e(){Object(c["a"])(this,e)}return Object(l["a"])(e,null,[{key:"getBlogs",value:function(){return new Promise(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,r){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get(m);case 3:n=e.sent,a=n.data,t(a.map((function(e){return f({},e,{createdAt:new Date(e.createdAt)})}))),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),r(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}())}},{key:"insertBlog",value:function(e,t){return d.a.post(m,{title:e,text:t})}},{key:"deleteBlog",value:function(e){return d.a.delete(m,{data:{id:e}})}},{key:"editBlog",value:function(e){return d.a.get(m,{params:{id:e}})}},{key:"updateBlog",value:function(e,t,r){return d.a.post(m,{id:e,title:t,text:r})}}]),e}(),v=h,b={name:"Editor",data:function(){return{blogs:[],myHTML:"",title:"",error:"",blog:"",blogData:"",id:"",status:""}},methods:{createBlog:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.insertBlog(this.title,this.myHTML);case 3:return t=e.sent,e.next=6,v.getBlogs();case 6:this.blogs=e.sent,this.myHTML="",this.title="",this.status=t.data,e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](0),this.error=e.t0.message;case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));function t(){return e.apply(this,arguments)}return t}(),deleteBlog:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v.deleteBlog(t);case 2:return r=e.sent,e.next=5,v.getBlogs();case 5:this.blogs=e.sent,this.status=r.data;case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),editBlog:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.editBlog(t);case 3:this.blog=e.sent,this.blogData=this.blog.data,this.myHTML=this.blogData.text,this.title=this.blogData.title,this.id=this.blogData._id,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),this.error=e.t0.message;case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));function t(t){return e.apply(this,arguments)}return t}(),updateBlog:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.updateBlog(this.id,this.title,this.myHTML);case 3:return t=e.sent,e.next=6,v.getBlogs();case 6:this.blogs=e.sent,this.status=t.data,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),this.error=e.t0.message;case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));function t(){return e.apply(this,arguments)}return t}()},created:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.getBlogs();case 3:this.blogs=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),this.error=e.t0.message;case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(){return e.apply(this,arguments)}return t}()},w=b,y=(r("58d3"),r("2877")),x=Object(y["a"])(w,s,o,!1,null,null,null),O=x.exports,k=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("form",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",placeholder:"username"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"password",autocomplete:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),r("input",{attrs:{type:"submit"},on:{click:function(t){return t.preventDefault(),e.login(e.username,e.password)}}})])])},_=[],B={name:"Login",data:function(){return{username:"",password:"",logged:!1}},methods:{login:function(e,t){"test"!=e||"test"!=t?(this.logged=!1,this.$emit("error")):(this.logged=!0,this.$emit("logged-in"))}}},j=B,D=Object(y["a"])(j,k,_,!1,null,null,null),L=D.exports,P={name:"LoginView",components:{Editor:O,Login:L},data:function(){return{logged:!1,error:""}},methods:{handleError:function(){var e=this;this.error="Wrong username or password",setTimeout((function(){e.error=""}),2500)}}},R=P,E=Object(y["a"])(R,n,a,!1,null,null,null);t["default"]=E.exports},"58d3":function(e,t,r){"use strict";var n=r("f08e"),a=r.n(n);a.a},f08e:function(e,t,r){}}]);
//# sourceMappingURL=about.1a668143.js.map